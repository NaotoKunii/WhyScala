# 関数型言語でなぜつくるのか

> オブジェクト指向でなぜつくるのか 著: 平澤 章  
> 「第13章 関数型言語でなぜ作るのか」より


Scalaで実装してみる。

#### 特徴1：関数を値として使える
- 関数型言語では関数を値として使える
- 関数を引数として渡す仕組みにより、ポリモーフィズムと同様の仕組みをシンプルに実現できる
- 関数を引数として受け取る、あるいは戻り値として返す関数を「高階関数」と呼ぶ


#### 特徴2 : 関数と引数を柔軟に組み合わせることができる
- 2つ以上の引数を持つ関数に一部の引数を与えると、残りの引数を持つ別の関数を作ることができる。この仕組を「部分適用」という
- 「複数の引数を取る関数」を「引数を一つだけ取る関数」を使って順次表現することを「カリー化」と呼ぶ
- 「関数の合成」により、複数の関数をまとめて別の関数を作ることができる

#### 特徴3：副作用を起こさない
- 純粋関数型言語では、変数の内容をあとから変更できない（Scalaは非純粋型関数言語）
- 関数型言語では、変数に値や式を設定することを「束縛する」と表現する
- 副作用がない関数は、引数が同じなら戻り値は必ず同じになる。これを「参照透過性」という
- ソフトウェアが副作用を起こさないことは、テストや保守を用意にし、再利用可能な部品を作りやすくする
- 遅延評価方式では、必要になった時点で初めて関数や式を評価する
- 副作用を起こさないことにより、遅延評価方式を実現できる

#### 特徴4：場合分けと再帰でループ処理を記述する
- パターンマッチにより、引数の値に応じた場合分け処理を明示できる
- パターンマッチと再帰を利用することで、簡潔かつ明快にループ処理を記述できる

#### 特徴5：コンパイラが型を自動的に推測する
- 関数型言語では関数そのものが型を持つ。関数の型は、引数と戻り値の型で表現する
- 型推論機構を備えた言語では、データや関数の型をコンパイラが自動的に推測する
- 型推論と多相性により、汎用性の高い関数を簡潔かつ安全に記述できる

#### 関数型言語のメリット
- 汎用性の高いプログラムを簡潔に書ける
- 汎用的な再利用部品を簡潔に作れる
- 分散並列処理と相性が良い
- 技術者にとって魅力がある

#### 関数型言語の課題
- わかりづらさ
- 学習コストの高さ

#### 関数型言語とオブジェクト指向の関係
- オブジェクト指向言語では、変数と手続きを「まとめて隠す」ことで、ソフトウェアの保守性と再利用性を向上させる
- 関数型言語では、変数の変更を禁止し、引数と戻り値を使って情報を受け渡すことで、ソフトウェアの保守性と再利用性を向上させる
